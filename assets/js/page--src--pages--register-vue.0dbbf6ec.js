(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0zj9":function(t,e,a){"use strict";a("sYBl")},"4hLg":function(t,e,a){"use strict";var s=a("Mj6V"),n=a.n(s);e.a={beforeRouteLeave:function(t,e,a){t.hash||"undefined"==typeof document||(n.a.start(),a())}}},MyAk:function(t,e,a){"use strict";a("vDqi");e.a={created:function(){var t=this;this.unwatch=this.$store.watch((function(t,e){return e.authChecked}),(function(e,a){e&&t.$store.getters.loggedIn&&t.$router.push("/account")}))},beforeDestroy:function(){this.unwatch()}}},"VV+c":function(t,e,a){"use strict";var s={},n=(a("0zj9"),a("KHd+")),i=Object(n.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Loader mx-auto"})}),[],!1,null,"75ba2af4",null);e.a=i.exports},VrS8:function(t,e,a){"use strict";a.r(e);var s=a("HaE+"),n=(a("ls82"),a("lO2I")),i=a("za7x"),r=a("VTBJ"),o=(a("ma9I"),a("VV+c")),l=a("e7F3"),c=a("TJPC"),u=a("vDqi");Object(l.c)("email",Object(r.a)(Object(r.a)({},c.b),{},{message:"Not a valid email address"})),Object(l.c)("alpha_spaces",Object(r.a)(Object(r.a)({},c.a),{},{message:"{_field_} must only contain alphabetic characters"})),Object(l.c)("min",{validate:function(t,e){return t.length>=e.length},params:["length"],message:"{_field_} must be at least {length} characters"}),Object(l.c)("required",Object(r.a)(Object(r.a)({},c.c),{},{message:"{_field_} is required"}));var d={name:"RegisterForm",components:{Icon:i.a,ValidationProvider:l.b,ValidationObserver:l.a,Loader:o.a},data:function(){return{emailIcon:n.b,pwdIcon:n.l,submitIcon:n.x,nameIcon:n.c,email:"",fname:"",lname:"",password:"",strapiError:null,submitLoader:!1}},methods:{onSubmit:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.submitLoader=!0,u.post("".concat("https://blooming-mesa-83646.herokuapp.com","/api/auth/local/register"),{givenName:t.fname,familyName:t.lname,name:"".concat(t.fname," ").concat(t.lname),username:t.email,email:t.email,password:t.password}).then((function(e){t.submitLoader=!1,t.$emit("registerSuccess",{user:e.data.user,jwt:e.data.jwt})})).catch((function(e){t.strapiError=e.response.data.error.message,t.submitLoader=!1}));case 2:case"end":return e.stop()}}),e)})))()}}},m=(a("ukMf"),a("KHd+")),p=Object(m.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit;return[a("form",{staticClass:"registrationForm flex flex-col gap-2 mt-6",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),s(t.onSubmit)}}},[a("ValidationProvider",{attrs:{name:"First Name",rules:"required|alpha_spaces"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},[a("Icon",{staticClass:"transition hover:fill-white",attrs:{icon:t.nameIcon,color:"fill-gray-400 w-4"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fname,expression:"fname"}],staticClass:"bg-transparent outline-none border-none text-sm w-full font-medium",attrs:{type:"text",name:"fname",id:"fname",placeholder:"First Name"},domProps:{value:t.fname},on:{input:function(e){e.target.composing||(t.fname=e.target.value)}}})],1),a("div",{staticClass:"flex flex-col justify-end min-h-4 mt-2"},[a("span",{staticClass:"text-xs text-red-400 transition",class:e.touched&&e.failed||e.pristine&&e.failed?"opacity-100 visible":"opacity-0 invisible"},[t._v(t._s(e.errors[0]))])])]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"Last Name",rules:"required|alpha_spaces"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},[a("Icon",{staticClass:"transition hover:fill-white",attrs:{icon:t.nameIcon,color:"fill-gray-400 w-4"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lname,expression:"lname"}],staticClass:"bg-transparent outline-none border-none text-sm w-full font-medium",attrs:{type:"text",name:"lname",id:"lname",placeholder:"Last Name"},domProps:{value:t.lname},on:{input:function(e){e.target.composing||(t.lname=e.target.value)}}})],1),a("div",{staticClass:"flex flex-col justify-end min-h-4 mt-2"},[a("span",{staticClass:"text-xs text-red-400 transition",class:e.touched&&e.failed||e.pristine&&e.failed?"opacity-100 visible":"opacity-0 invisible"},[t._v(t._s(e.errors[0]))])])]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"Email Address",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},[a("Icon",{staticClass:"transition hover:fill-white",attrs:{icon:t.emailIcon,color:"fill-gray-400 w-4"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"bg-transparent outline-none border-none text-sm w-full font-medium",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})],1),a("div",{staticClass:"flex flex-col justify-end min-h-4 mt-2"},[a("span",{staticClass:"text-xs text-red-400 transition",class:e.touched&&e.failed||e.pristine&&e.failed?"opacity-100 visible":"opacity-0 invisible"},[t._v(t._s(e.errors[0]))])])]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"Password",rules:"required|min:8"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},[a("Icon",{staticClass:"transition hover:fill-white",attrs:{icon:t.pwdIcon,color:"fill-gray-400 w-4"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"bg-transparent outline-none border-none text-sm w-full font-medium",attrs:{type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})],1),a("div",{staticClass:"flex flex-col justify-end min-h-4 mt-2"},[a("span",{staticClass:"text-xs text-red-400 transition",class:e.touched&&e.failed||e.pristine&&e.failed?"opacity-100 visible":"opacity-0 invisible"},[t._v(t._s(e.errors[0]))])])]}}],null,!0)}),a("p",{staticClass:"text-base text-red-400 transition text-center w-full",class:t.strapiError?"opacity-100 visible":"opacity-0 invisible"},[t._v("\n        "+t._s(t.strapiError)+"\n      ")]),t.submitLoader?a("Loader"):a("button",{staticClass:"submitForm flex justify-center items-center gap-2 p-3 transition bg-accent hover:bg-accent_darken text-accent_lighten font-medium",attrs:{type:"submit"}},[a("Icon",{staticClass:"w-4",attrs:{icon:t.submitIcon,color:"fill-white"}}),t._v("\n        Register\n      ")],1)],1)]}}])})],1)}),[],!1,null,"0a5b87fe",null).exports,f=a("4hLg"),g=a("MyAk"),v={name:"Register",components:{Icon:i.a,RegisterForm:p},mixins:[f.a,g.a],data:function(){return{googleIcon:n.i,registered:!1,strapiUrl:"https://blooming-mesa-83646.herokuapp.com",user:{}}},methods:{handleRegister:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.user=t.user,e.registered=!0,e.$cookies.set("NTV_Session",t.jwt),e.$store.commit("setLoggedIn",{jwt:t.jwt,user:t.user}),e.$router.push("/account");case 5:case"end":return a.stop()}}),a)})))()}}},h=Object(m.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("div",{staticClass:"flex justify-center items-center"},[t.$store.getters.authChecked&&!t.$store.getters.loggedIn?a("div",{staticClass:"px-10 py-14 my-16 <md:min-w-screen md:w-512px bg-accent_lighten dark:bg-dark_lighten"},[t.registered?t._e():a("div",[a("div",{staticClass:"text-3xl font-bold mb-1 text-text dark:text-dark_text_lighten"},[t._v("\n          Get Started\n        ")]),a("p",{staticClass:"text-base text-text dark:text-dark_text opacity-70"},[t._v("\n          Already have an account?\n          "),a("g-link",{staticClass:"font-medium text-accent dark:text-accent hover:dark:text-accent_lighten",attrs:{to:"/login"}},[t._v("Log in")])],1),a("a",{staticClass:"googleLogin flex justify-center items-center gap-2 mt-6 p-3 transition bg-accent hover:bg-accent_darken",attrs:{href:t.strapiUrl+"/api/connect/google"}},[a("Icon",{staticClass:"w-5",attrs:{icon:t.googleIcon,color:"fill-white"}}),a("span",{staticClass:"font-medium text-white"},[t._v("\n            Sign in with Google\n          ")])],1),a("p",{staticClass:"separator my-3 text-text dark:text-dark_text opacity-50 text-center overflow-hidden"},[t._v("\n          or\n        ")]),a("RegisterForm",{on:{registerSuccess:t.handleRegister}})],1)]):t._e()])])}),[],!1,null,null,null);e.default=h.exports},p9Ya:function(t,e,a){},sYBl:function(t,e,a){},ukMf:function(t,e,a){"use strict";a("p9Ya")}}]);