(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/l/X":function(t,e,a){"use strict";a.r(e);var n=a("KQm4"),i=a("HaE+"),s=(a("ls82"),a("QWBl"),a("07d7"),a("FZtP"),a("ma9I"),a("YGK4"),a("PKPk"),a("3bBZ"),a("2B1R"),a("TeQF"),a("pDQq"),a("pNMO"),a("4Brf"),a("gpus")),r=a("X4uV"),o=a("4hLg"),c=a("vDqi"),d={name:"Playlist",components:{VideoCard:s.a,CardSkeleton:r.a},mixins:[o.a],data:function(){return{videos:null,isLoading:!1,pageNumber:2,totalPages:4}},methods:{handleIntersection:function(t,e){var a=this;t.forEach(function(){var t=Object(i.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.isIntersecting&&a.pageNumber<=a.totalPages)){t.next=4;break}return a.isLoading=!0,t.next=4,a.loadVideos(a.pageNumber,20);case 4:a.pageNumber>a.totalPages&&e.disconnect();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},loadVideos:function(t,e){var a=this;return Object(i.a)(regeneratorRuntime.mark((function i(){var s,r,o,d,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.get("".concat("https://ntv.dev.nithyanandajnanalaya.org","/api/videos?filters[playlists][slug][$eq]=").concat(a.$page.strapi.playlists.data[0].attributes.slug,"&pagination[page]=").concat(t,"&pagination[pageSize]=").concat(e),{headers:{Authorization:"Bearer ".concat("9ef15e051e06f39b4c15093124bb4787ef9b8bb61d40c41a74d591da361deefea23a9baa547f1843a857c49e1196f625228d3720f0c45b8eac3e903138cd36384734d8d52170b2c44fa73253610ba3d8f315eed653beda36f356d5dfb5d791093b6f7e40a130f983a9ce2eb0b2b7fb09d97bf1b88b3a7695fa55aa190f4f710a")}});case 2:s=i.sent,r=s.data,a.totalPages=r.meta.pagination.pageCount,r.data.length>0&&(d=new Set(a.videos.map((function(t){return t.id}))),p=[].concat(Object(n.a)(a.videos),Object(n.a)(r.data.filter((function(t){return!d.has(t.id)})))),a.videos.splice(0,a.videos.length),(o=a.videos).push.apply(o,Object(n.a)(p))),a.isLoading=!1,a.pageNumber++;case 8:case"end":return i.stop()}}),i)})))()}},mounted:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.videos=t.$page.strapi.playlists.data[0].attributes.videos.data,new IntersectionObserver(t.handleIntersection).observe(t.$refs.loadMore);case 3:case"end":return e.stop()}}),e)})))()},metaInfo:function(){return{title:this.$page.strapi.playlists.data[0].attributes.title,meta:[{name:"description",content:this.$page.strapi.playlists.data[0].attributes.description},{key:"og:title",hid:"og:title",property:"og:title",content:"".concat(this.$page.strapi.playlists.data[0].attributes.title," - KAILASA's Nithyananda TV")},{key:"og:description",hid:"og:description",property:"og:description",content:this.$page.strapi.playlists.data[0].attributes.description}]}}},p=(a("5Hg0"),a("KHd+")),u=null,l=Object(p.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("div",{staticClass:"playlist__header <sm:px-6 px-10 pt-10 pb-8"},[a("h1",{staticClass:"text-4xl font-medium mb-3"},[t._v("\n      "+t._s(t.$page.strapi.playlists.data[0].attributes.title)+"\n    ")]),a("p",{staticClass:"text-base"},[t._v("\n      "+t._s(t.$page.strapi.playlists.data[0].attributes.description)+"\n    ")])]),a("div",{staticClass:"<sm:px-6 px-10 pb-10 pt-4 flex flex-wrap gap-x-2 gap-y-5 mb-16 pb-16"},[t._l(t.videos,(function(t){return a("VideoCard",{key:t.id,attrs:{video:t}})})),t._l(5,(function(e){return a("CardSkeleton",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],key:e})}))],2),t.isLoading?a("div",{staticClass:"min-h-400px"}):t._e(),a("div",{ref:"loadMore",staticClass:"invisible"},[t._v(".")])])}),[],!1,null,"6b33afbb",null);"function"==typeof u&&u(l);e.default=l.exports},"4hLg":function(t,e,a){"use strict";var n=a("Mj6V"),i=a.n(n);e.a={beforeRouteLeave:function(t,e,a){t.hash||"undefined"==typeof document||(i.a.start(),a())}}},"5Hg0":function(t,e,a){"use strict";a("IkCR")},IkCR:function(t,e,a){}}]);