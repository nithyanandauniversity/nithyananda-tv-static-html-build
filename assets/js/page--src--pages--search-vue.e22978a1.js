(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3tYG":function(e,t,a){"use strict";a("b4WZ");var s=a("KHd+"),n=Object(s.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"textSkeleton flex flex-col w-full"},[t("h2",{staticClass:"textSkeleton__intro skeleton h-6 mr-18 rounded"}),t("p",{staticClass:"textSkeleton__title skeleton mt-2 h-3 mr-3 rounded"})])}],!1,null,null,null);t.a=n.exports},"53fc":function(e,t,a){},"GFA/":function(e,t,a){},XGVr:function(e,t,a){"use strict";a.r(t);var s=a("KQm4"),n=a("HaE+"),r=(a("ls82"),a("pDQq"),a("ma9I"),a("07d7"),a("YGK4"),a("PKPk"),a("3bBZ"),a("2B1R"),a("TeQF"),a("QWBl"),a("FZtP"),a("gpus")),i=a("X4uV"),o=a("vDqi"),l={name:"SearchVideos",components:{CardSkeleton:i.a,VideoCard:r.a},data:function(){return{pageNumber:1,totalPages:0,isLoading:!0,searchResults:[]}},computed:{searchQuery:function(){return this.$route.query.q}},watch:{searchQuery:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.pageNumber=1,!(e.length>2)){a.next=6;break}return t.searchResults.splice(0,t.searchResults.length),t.isLoading=!0,a.next=6,t.loadResults(t.pageNumber,20);case 6:case"end":return a.stop()}}),a)})))()}},methods:{loadResults:function(e,t){var a=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,i,l,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.get("".concat("https://ntv.dev.nithyanandajnanalaya.org","/api/videos?filters[title][$containsi]=").concat(a.$route.query.q,"&pagination[page]=").concat(e,"&pagination[pageSize]=").concat(t),{headers:{Authorization:"Bearer ".concat("9ef15e051e06f39b4c15093124bb4787ef9b8bb61d40c41a74d591da361deefea23a9baa547f1843a857c49e1196f625228d3720f0c45b8eac3e903138cd36384734d8d52170b2c44fa73253610ba3d8f315eed653beda36f356d5dfb5d791093b6f7e40a130f983a9ce2eb0b2b7fb09d97bf1b88b3a7695fa55aa190f4f710a")}});case 2:r=n.sent,(i=r.data).data.length>0&&(c=new Set(a.searchResults.map((function(e){return e.id}))),u=[].concat(Object(s.a)(a.searchResults),Object(s.a)(i.data.filter((function(e){return!c.has(e.id)})))),a.searchResults.splice(0,a.searchResults.length),(l=a.searchResults).push.apply(l,Object(s.a)(u))),a.totalPages=i.meta.pagination.pageCount,a.pageNumber++,a.isLoading=!1;case 8:case"end":return n.stop()}}),n)})))()},handleIntersection:function(e,t){var a=this;e.forEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.isIntersecting&&a.pageNumber<=a.totalPages)){e.next=4;break}return a.isLoading=!0,e.next=4,a.loadResults(a.pageNumber,20);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.loadResults(e.pageNumber,20);case 3:new IntersectionObserver(e.handleIntersection,{rootMargin:"100px",threshold:0}).observe(e.$refs.loadMore);case 5:case"end":return t.stop()}}),t)})))()}},c=a("KHd+"),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isLoading||0!=e.searchResults.length?e._e():a("div",{staticClass:"flex p-18 text-lg justify-center items-center"},[e._v("\n    No search results\n  ")]),a("div",{staticClass:"px-10 pb-10 pt-4 flex flex-wrap gap-x-2 gap-y-5 mb-16 pb-16"},[e._l(e.searchResults,(function(e){return a("VideoCard",{key:"search-video-"+e.id,attrs:{video:e}})})),e._l(4,(function(t){return a("CardSkeleton",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],key:t})}))],2),e.isLoading?a("div",{staticClass:"min-h-400px"}):e._e(),a("div",{ref:"loadMore",staticClass:"invisible"})])}),[],!1,null,null,null).exports,d=a("3tYG"),f=a("xXjg"),h=a("vkWd"),p=a("vDqi"),b={name:"SearchPlaylists",components:{TextSkeleton:d.a,CardSkeleton:i.a,VideoSlider:f.a,VideoSliderSkeleton:h.a},data:function(){return{pageNumber:1,totalPages:0,isLoading:!0,searchResults:[]}},computed:{searchQuery:function(){return this.$route.query.q}},watch:{searchQuery:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.pageNumber=1,!(e.length>2)){a.next=6;break}return t.searchResults.splice(0,t.searchResults.length),t.isLoading=!0,a.next=6,t.loadResults(t.pageNumber,10);case 6:case"end":return a.stop()}}),a)})))()}},methods:{loadResults:function(e,t){var a=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,i,o,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.get("".concat("https://ntv.dev.nithyanandajnanalaya.org","/api/playlists?filters[title][$containsi]=").concat(a.$route.query.q,"&pagination[page]=").concat(e,"&pagination[pageSize]=").concat(t,"&fields[0]=title&fields[1]=slug&fields[2]=description&populate[videos][fields][0]=title&populate[videos][fields][0]=slug&populate[videos][fields][0]=description&populate[videos][fields][0]=thumbnailURL&populate[videos][fields][0]=youtubeID"),{headers:{Authorization:"Bearer ".concat("9ef15e051e06f39b4c15093124bb4787ef9b8bb61d40c41a74d591da361deefea23a9baa547f1843a857c49e1196f625228d3720f0c45b8eac3e903138cd36384734d8d52170b2c44fa73253610ba3d8f315eed653beda36f356d5dfb5d791093b6f7e40a130f983a9ce2eb0b2b7fb09d97bf1b88b3a7695fa55aa190f4f710a")}});case 2:r=n.sent,(i=r.data).data.length>0&&(l=new Set(a.searchResults.map((function(e){return e.id}))),c=[].concat(Object(s.a)(a.searchResults),Object(s.a)(i.data.filter((function(e){return!l.has(e.id)})))),a.searchResults.splice(0,a.searchResults.length),(o=a.searchResults).push.apply(o,Object(s.a)(c))),a.totalPages=i.meta.pagination.pageCount,a.pageNumber++,a.isLoading=!1;case 8:case"end":return n.stop()}}),n)})))()},handleIntersection:function(e,t){var a=this;e.forEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.isIntersecting&&a.pageNumber<=a.totalPages)){e.next=4;break}return a.isLoading=!0,e.next=4,a.loadResults(a.pageNumber,10);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.loadResults(e.pageNumber,10);case 3:new IntersectionObserver(e.handleIntersection,{rootMargin:"100px",threshold:0}).observe(e.$refs.loadMore);case 5:case"end":return t.stop()}}),t)})))()}},v={name:"Search",components:{SearchVideos:u,SearchPlaylists:Object(c.a)(b,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isLoading||0!=e.searchResults.length?a("TransitionGroup",{attrs:{name:"fade"}},e._l(e.searchResults,(function(e){return a("VideoSlider",{key:"search-playlist-"+e.id,staticClass:"videoSlider",attrs:{playlist:e}})})),1):a("div",{staticClass:"flex p-18 text-lg justify-center items-center"},[e._v("\n    No search results\n  ")]),e.isLoading?a("Transition",{attrs:{name:"fade"}},[a("VideoSliderSkeleton")],1):e._e(),e.isLoading?a("div",{staticClass:"min-h-400px"}):e._e(),a("div",{ref:"loadMore",staticClass:"invisible"},[e._v(".")])],1)}),[],!1,null,"7df43616",null).exports},metaInfo:{title:"Search"},data:function(){return{activeTab:"videos"}},mounted:function(){this.$store.getters.searchBarStatus||this.$store.commit("displaySearchBar")},beforeRouteLeave:function(e,t,a){this.$store.commit("hideSearchBar"),a()},beforeRouteEnter:function(e,t,a){a((function(e){e.$store.commit("displaySearchBar")}))}},g=(a("udCz"),Object(c.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",[a("div",{staticClass:"search__tabs mt-18 mb-8 text-lg text-center flex justify-center items-center"},[a("div",{staticClass:"tab__button py-3 px-10 flex-1",class:"videos"==e.activeTab?"active":"",on:{click:function(t){e.activeTab="videos"}}},[e._v("\n      Videos\n    ")]),a("div",{staticClass:"tab__button py-3 px-10 flex-1",class:"playlists"==e.activeTab?"active":"",on:{click:function(t){e.activeTab="playlists"}}},[e._v("\n      Playlists\n    ")])]),a("SearchVideos",{directives:[{name:"show",rawName:"v-show",value:"videos"==e.activeTab,expression:"activeTab == 'videos'"}],staticClass:"tab__videoResults"}),a("SearchPlaylists",{directives:[{name:"show",rawName:"v-show",value:"playlists"==e.activeTab,expression:"activeTab == 'playlists'"}],staticClass:"tab__playlistResults"})],1)}),[],!1,null,null,null));t.default=g.exports},b4WZ:function(e,t,a){"use strict";a("53fc")},udCz:function(e,t,a){"use strict";a("zObG")},vkWd:function(e,t,a){"use strict";var s=a("X4uV"),n={name:"VideoSliderSkeleton",components:{TextSkeleton:a("3tYG").a,CardSkeleton:s.a}},r=a("KHd+"),i=Object(r.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mb-8"},[t("div",{staticClass:"px-10 my-4"},[t("TextSkeleton",{staticClass:"w-60vw md:w-30vw"})],1),t("div",{staticClass:"w-full overflow-hidden"},[t("div",{staticClass:"mt-4 px-2.5rem overflow-x-scroll flex gap-x-2 scroll-smooth scrollbar-hide snap snap-proximity snap-x snap-pl-2.5rem"},this._l(5,(function(e){return t("CardSkeleton",{key:e})})),1)])])}),[],!1,null,null,null);t.a=i.exports},xXjg:function(e,t,a){"use strict";a("QWBl"),a("07d7"),a("FZtP");var s=a("gpus"),n={name:"VideoSlider",props:{playlist:{type:Object,required:!0}},components:{VideoCard:s.a},data:function(){return{disableLeftButton:!0,disableRightButton:!1}},methods:{scrollLeft:function(){this.$refs.sliderContent.scrollTo({left:this.$refs.sliderContent.scrollLeft-500,behavior:"smooth"})},scrollRight:function(){this.$refs.sliderContent.scrollTo({left:this.$refs.sliderContent.scrollLeft+500,behavior:"smooth"})},toggleLeftButton:function(e){var t=this;e.forEach((function(e){!e.isIntersecting&&t.disableLeftButton?t.disableLeftButton=!1:e.isIntersecting&&!t.disableLeftButton&&(t.disableLeftButton=!0)}))},toggleRightButton:function(e){var t=this;e.forEach((function(e){e.isIntersecting&&!t.disableRightButton?t.disableRightButton=!0:!e.isIntersecting&&t.disableRightButton&&(t.disableRightButton=!1)}))}},mounted:function(){new IntersectionObserver(this.toggleLeftButton).observe(this.$refs.start),new IntersectionObserver(this.toggleRightButton).observe(this.$refs.end)}},r=(a("zflI"),a("KHd+")),i=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-10"},[a("div",{staticClass:"slider__header flex gap-x-4 items-center mb-4 <sm:px-6 px-10"},[a("div",{staticClass:"slider__text"},[a("h2",{staticClass:"text-2xl font-bold text-secondary dark:text-dark_text_lighten"},[e._v("\n        "+e._s(e.$route.path.startsWith("/video/")?"Related Videos":e.playlist.attributes.title)+"\n      ")])]),e.$route.path.startsWith("/video/")?e._e():a("g-link",{staticClass:"text-sm text-accent text-opacity-80 pt-1 carousel__header__moreLink hover:text-accent_darken hover:dark:text-accent_lighten font-medium",attrs:{to:"/playlist/"+e.playlist.attributes.slug}},[e._v("\n      View All\n    ")])],1),e.$route.path.startsWith("/video/")?e._e():a("p",{staticClass:"text-sm <sm:px-6 px-10 mb-6 text-text_lighten dark:text-dark_text opacity-806"},[e._v("\n    "+e._s(e.playlist.attributes.description)+"\n  ")]),a("div",{staticClass:"slider__wrapper w-full overflow-hidden relative"},[a("button",{staticClass:"slider__nav slider__nav--left",attrs:{id:"btn-left","aria-label":"Previous",type:"button",disabled:e.disableLeftButton},on:{click:e.scrollLeft}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"none",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M17.9 23.2L6.1 12 17.9.8"}})])]),a("button",{staticClass:"slider__nav slider__nav--right",attrs:{id:"btn-right","aria-label":"Next",type:"button",disabled:e.disableRightButton},on:{click:e.scrollRight}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"none",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M6.1 23.2L17.9 12 6.1.8"}})])]),a("div",{ref:"sliderContent",staticClass:"slider__content px-2.5rem overflow-x-scroll flex gap-x-2 scroll-smooth scrollbar-hide snap snap-proximity snap-x <sm:snap-pl-1.5rem snap-pl-2.5rem relative"},[a("div",{ref:"start",staticClass:"absolute left-0 invisible"},[e._v(".")]),e._l(e.playlist.attributes.videos.data,(function(e){return a("VideoCard",{key:e.id,attrs:{video:e}})})),a("div",{ref:"end"},[e.$route.path.startsWith("/video/")?e._e():a("VideoCard",{attrs:{video:{moreLink:"/playlist/"+e.playlist.attributes.slug}}})],1)],2)])])}),[],!1,null,"30eb04b4",null);t.a=i.exports},zObG:function(e,t,a){},zflI:function(e,t,a){"use strict";a("GFA/")}}]);