import{_ as $}from"./_plugin-vue_export-helper.c27b6911.js";import{o as l,a as m,D as F,i as g,b as u,e as h,w as V,u as r,E as L,y as C,q as y,z as b,c as f,F as B,r as N,x as j}from"./entry.645b31f3.js";import{_ as D}from"./Hero.vue.d4908612.js";import{_ as T}from"./VideoSlider.b210c6d6.js";import{d as q,e as z,_ as A}from"./mdi.25c8c8e3.js";import{_ as H}from"./nuxt-link.1b5305ab.js";import{u as x}from"./livestream.5221b7bd.js";import{g as I}from"./useApi.e80b3a6b.js";import"./lazysizes.869e4f93.js";import"./numbro.min.107d2f30.js";import"./index.e9cbcaec.js";import"./VideoCard.310c0bc5.js";const O={},U={ref:"hero",class:"hero h-screen-50vh lg:h-screen-60vh xl:h-screen-70vh flex flex-col md:flex-row bg-white dark:bg-dark justify-between"},E=F('<div class="hero__cover overflow-hidden" data-v-fb63ad6f><div class="w-full h-full" data-v-fb63ad6f><div class="hero__cover__img skeleton w-full h-full" data-v-fb63ad6f></div></div></div><div class="hero__text px-10 pt-0 pb-6 flex flex-col justify-center" data-v-fb63ad6f><div class="textSkeleton flex flex-col w-full" data-v-fb63ad6f><h2 class="textSkeleton__intro skeleton h-6 mr-18 mb-3 rounded" data-v-fb63ad6f></h2><p class="textSkeleton__title skeleton mt-2 h-3 mr-3 rounded" data-v-fb63ad6f></p><p class="textSkeleton__title skeleton mt-2 h-3 mr-3 rounded" data-v-fb63ad6f></p></div></div>',2),W=[E];function G(i,e,o,s,n,t){return l(),m("div",U,W,512)}const J=$(O,[["render",G],["__scopeId","data-v-fb63ad6f"]]),K={class:"floatingPlayer <sm:hidden fixed z-30 bottom-0 right-0 mr-5 mb-5 rounded overflow-hidden"},M={class:"actionButtons px-1 w-full mb-2 flex items-center justify-between gap-x-2"},Q={class:"aspect-video"},R=["src"],X=g({__name:"FloatingPlayer",emits:["closePlayer"],setup(i,{emit:e}){const o=x();return(s,n)=>{const t=A,d=H;return l(),m("div",K,[u("div",M,[h(d,{"aria-label":"Open livestream",to:"/",class:"p-2 bg-gray-500 rounded-full bg-opacity-50"},{default:V(()=>[h(t,{color:"fill-gray-100",class:"actionButtons__icon cursor-pointer transition w-3 transition hover:fill-accent",icon:r(q)},null,8,["icon"])]),_:1}),u("div",{onClick:n[0]||(n[0]=c=>e("closePlayer")),class:"icons p-2 bg-gray-500 rounded-full bg-opacity-50"},[h(t,{color:"fill-gray-100",class:"actionButtons__icon cursor-pointer transition w-3 transition hover:fill-accent",icon:r(z)},null,8,["icon"])])]),u("div",Q,[u("iframe",{class:"sm:w-200px md:w-300px xl:w-400px",id:"54bbcb797b3e267a53295023ef9e7a5e",src:r(o).embedUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"no",allow:"autoplay;encrypted-media",allowfullscreen:"",webkitallowfullscreen:"",mozallowfullscreen:"",oallowfullscreen:"",msallowfullscreen:""},null,8,R)])])}}});const Y=L("api",{state:()=>({featuredVideo:{},featuredPlaylists:[]}),getters:{getFeaturedVideo:i=>i.featuredVideo,getFeaturedPlaylists:i=>i.featuredPlaylists},actions:{}}),_e=g({__name:"home",async setup(i){let e,o;const s=x(),n=C(),t=Y(),d=y(!1),c=y(!!s.getLiveStatus),p=y([]);if(t.getFeaturedPlaylists.length==0){const a=([e,o]=b(()=>n("/playlists/with-videos",{params:{filters:{isFeatured:{$eq:!0}},sort:["updatedAt:desc"]}})),e=await e,o(),e);p.value=a.data,t.featuredPlaylists=a.data}else p.value=t.getFeaturedPlaylists;if(Object.keys(t.getFeaturedVideo).length===0){const a=([e,o]=b(()=>I()),e=await e,o(),e);if(s.isLive=a.attributes.isLive,s.embedUrl=a.attributes.embedUrl,s.checkedTime=Date.now(),s.livestream={liveTitle:a.attributes.title,liveDescription:a.attributes.description},a.attributes.isLive)c.value=!0,t.featuredVideo={attributes:{title:s.getLivestreamDetails.liveTitle,description:"Nithyananda TV is live now! Watch here",slug:"/"}},d.value=!0;else{const _=([e,o]=b(()=>n("/videos/random",{params:{filters:{isFeatured:{$eq:!0}}}})),e=await e,o(),e);t.featuredVideo=_.data,d.value=!0}}else d.value=!0;return(a,_)=>{const w=J,k=D,P=T,S=X;return l(),m("div",null,[r(d)?(l(),f(k,{key:1,video:r(t).getFeaturedVideo},null,8,["video"])):(l(),f(w,{key:0})),(l(!0),m(B,null,N(r(p),v=>(l(),f(P,{key:v.id,playlist:v},null,8,["playlist"]))),128)),r(c)?(l(),f(S,{key:2,onClosePlayer:_[0]||(_[0]=v=>c.value=!1)})):j("",!0)])}}});export{_e as default};
