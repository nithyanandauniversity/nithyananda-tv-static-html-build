import{c as v,_ as y}from"./mdi.8a543158.js";import{j as L,k as $,x as w,v as l,l as V,C as b,z as B,u as n,a,e as d,w as C,F as I,r as N,f as R,o,h as j,c as z}from"./entry.ef5d6334.js";import{_ as A}from"./VideoListItem.50146de9.js";import{_ as E}from"./Loader.18622640.js";import{u as F}from"./composables.49ef9c00.js";import{_ as J}from"./_plugin-vue_export-helper.c27b6911.js";import"./lazysizes.869e4f93.js";import"./numbro.min.107d2f30.js";const S={key:0,class:"mx-6 md:mx-10 mb-6 md:mb-10 mt-6 md:mt-8"},T={key:0},U={key:1,class:"text-base flex justify-center items-center w-full h-full"},q={key:1,class:"flex justify-center items-center w-full h-screen"},G=L({__name:"likes",async setup(H){let i,u;F({title:"Liked Videos - Nithyananda TV"});const t=$(),m=w(),_=l(!0),f=V(),c=l([]),h=l([]);try{const e=([i,u]=b(()=>$fetch(`${m.public.strapiURL}/api/users-permissions/liked-videos`,{headers:{Authorization:`Bearer ${t.getJwt}`}})),i=await i,u(),i);e.data.error?console.log(e.data.error):(h.value=e,t.setLikedVideos=e)}catch(e){console.log(e)}return B(async()=>{if(t.getLikedVideos.length>0){let e="";t.getLikedVideos.forEach((s,r)=>{r!=0&&(e+="&"),e+=`filters[id][$in][${r}]=${s}`});try{const s=await $fetch(`${m.public.strapiURL}/api/videos?${e}`,{headers:{Authorization:`Bearer ${t.getJwt}`}});c.value=s.data,_.value=!1}catch{f.push("/account")}}else _.value=!1,c.value=[]}),(e,s)=>{const r=y,k=R,g=A,x=E;return n(t).getLoggedIn&&!n(_)?(o(),a("div",S,[d(k,{class:"goBack flex items-center text-base gap-0 mb-8",to:"/account"},{default:C(()=>[d(r,{icon:n(v),class:"w-7"},null,8,["icon"]),j(" Go Back ")]),_:1}),n(c).length>0?(o(),a("div",T,[(o(!0),a(I,null,N(n(c),p=>(o(),z(g,{key:p.id,class:"mb-8",video:p.attributes},null,8,["video"]))),128))])):(o(),a("div",U," No videos liked "))])):(o(),a("div",q,[d(x)]))}}});const Y=J(G,[["__scopeId","data-v-33d9c396"]]);export{Y as default};
