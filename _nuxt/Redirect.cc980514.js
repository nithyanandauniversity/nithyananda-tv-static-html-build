import{_ as f}from"./Loader.d0d8947b.js";import{_ as g}from"./nuxt-link.01267993.js";import{i as h,q as u,l as v,k as x,s as k,v as y,m as w,o as t,a,u as o,e as _,b as m,f as r,t as b,w as S,x as L}from"./entry.6a23ce5c.js";import"./_plugin-vue_export-helper.c27b6911.js";const N={class:"flex justify-center items-center w-full h-full"},C={key:0,class:"flex justify-center items-center p-12 min-w-50vw min-h-50vh"},V={key:1,class:"px-10 py-14 my-16 min-w-40vw bg-accent_lighten dark:bg-dark_lighten"},j={key:0},A={class:"text-base text-red-400 opacity-70 text-center"},B=m("br",null,null,-1),I=h({__name:"Redirect",setup(E){const c=u(!0),n=u(""),d=v(),i=x();return k(async()=>{const s=y();if(s.value){const{fetchUser:l}=w(),e=await l();e.value&&(i.setLoggedIn({jwt:s.value.toString(),user:{name:e.value.name?e.value.name:e.value.username,email:e.value.email,picture:e.value.picture}}),i.setAuthChecked(!0),d.push("/account"))}else n.value="An error occured in signing you in to E-Kailasa",c.value=!1}),(s,l)=>{const e=f,p=g;return t(),a("div",N,[o(c)?(t(),a("div",C,[_(e)])):(t(),a("div",V,[o(n).length>0?(t(),a("div",j,[m("p",A,[r(b(o(n))+" ",1),B,r("Please try "),_(p,{class:"font-medium text-accent dark:text-accent hover:dark:text-accent_lighten",to:"/login","aria-label":"Log in again"},{default:S(()=>[r("logging in again")]),_:1})])])):L("",!0)]))])}}});export{I as default};
